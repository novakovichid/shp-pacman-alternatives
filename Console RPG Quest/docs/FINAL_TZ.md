# Console RPG Quest — техническое задание

> ℹ️ В репозитории реализован только каркас приложения. Требования ниже описывают итоговую игру, которую предстоит
> собрать по задачам из каталога `tasks/`.

## 1. Назначение и цели
Console RPG Quest — текстовая ролевая игра с пошаговыми сражениями и выбором действий. Игрок исследует локации, общается
с персонажами, выполняет задания и прокачивает героя. Основной упор — на структуру классов, сценариев и сохранений.

Цели команды:
- разработать модульный проект на Python с чётким разделением слоёв (core, services, storage, ui);
- реализовать систему квестов, боёв, инвентаря и случайных событий;
- обеспечить поддержку сохранений и загрузки прогресса в формате JSON.

## 2. Пользовательские сценарии
Игрок взаимодействует с игрой через текстовые команды. Ключевые сценарии:
- запуск новой игры, ввод имени героя и выбор стартового класса;
- исследование мира: переходы между локациями, обнаружение событий, взаимодействие с NPC;
- участие в пошаговых боях с врагами, использование навыков и предметов;
- управление инвентарём: экипировка предметов, применение зелья, сортировка трофеев;
- выполнение сюжетных и побочных квестов с ветвящимися условиями;
- сохранение и загрузка прогресса, просмотр журнала событий и характеристик героя.

## 3. Архитектура
```
main.py ─▶ ConsoleRPGApplication ─▶ ConsoleInterface (ui)
                                   ├─▶ GameService (services)
                                   │     ├─▶ GameWorld, Player, Enemy, Item, Quest (core)
                                   │     └─▶ механики боёв, квестов, событий
                                   ├─▶ SaveRepository (storage)
                                   └─▶ QuestLoader (storage)
```

- **core**: модели персонажей, предметов, квестов, состояния мира и базовой механики.
- **services**: сценарии игры, менеджер событий, система боёв и выполнение квестов.
- **storage**: чтение и запись JSON-файлов, резервные копии сохранений, загрузка библиотеки квестов.
- **ui**: консольный ввод/вывод, вывод подсказок, управление игровым циклом и меню.

## 4. Функциональные требования
- Пошаговая система боя: игрок и враг по очереди выбирают действия (атака, защита, навык, предмет).
- Динамическая генерация врагов с учётом уровня игрока и локации.
- Квестовая система с ветвлениями, журналом целей и наградами (опыт, предметы, влияние на мир).
- Инвентарь с экипировкой, предметами потребления и квестовыми объектами.
- Менеджер событий, генерирующий случайные встречи, находки и сюжетные сцены.
- Система прогресса: уровни, характеристики, навыки, журнал достижений.
- Поддержка сохранения и загрузки состояния, включая активные квесты, локации, журнал событий.
- Настраиваемые параметры сложности (уровень врагов, частота событий, стартовые ресурсы).

## 5. Нефункциональные требования
- Запуск из консоли, управление через текстовые команды.
- Хранение данных в человекочитаемых JSON-файлах, структура описана в документации.
- Логирование ключевых событий в текстовом файле `logs/events.log`.
- Возможность расширения контента: добавление новых квестов, врагов и предметов без изменения ядра.
- Код оформлен в ООП-стиле, каждая сущность отвечает за собственное поведение.

## 6. Структура данных
- `saves/profile.json` — текущее состояние игрока, активные квесты, журнал событий.
- `data/quests.json` — библиотека квестов с условиями, наградами и описанием этапов.
- `data/bestiary.json` — справочник врагов, шаблоны характеристик и лута.
- `data/items.json` — коллекция предметов, редкость и эффекты.

Каждый JSON-файл содержит поле `version` для совместимости и массив записей с уникальными идентификаторами.

## 7. Пользовательский интерфейс
- Главное меню: "Новая игра", "Загрузить сохранение", "Настройки", "Выход".
- Внутриигровой интерфейс: текущая локация, список доступных действий, краткая сводка характеристик.
- Отдельные экраны для боя, инвентаря, журнала квестов и карты мира.
- Подсказки и учебные сообщения для новых игроков.

## 8. Минимальные артефакты
- Каркас классов и интерфейсов.
- Базовые команды интерфейса для перемещения по меню.
- Заглушки чтения и записи JSON.
- Шаблон отчёта о состоянии игрока (текстовый вывод).

## 9. Ограничения
- Только стандартная библиотека Python, без внешних зависимостей.
- Локализация — русский язык.
- Управление осуществляется в одной консоли, без сетевых функций.

## 10. Критерии приёмки
- Успешный запуск `python main.py` выводит приветствие и подсказку.
- Структура каталогов (`data/`, `logs/`, `saves/`) создаётся автоматически при первой инициализации.
- Реализованы 25 стартовых и 15 расширенных задач, покрывающих все аспекты игры.
- Документация отражает текущий статус и логику работы всех слоёв.
