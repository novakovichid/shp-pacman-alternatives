# Расширенные задачи Console Knowledge Base (TXT)

15 задач для развития функциональности после реализации базовой версии приложения.
Каждая задача описывает контекст, ключевые действия и ожидаемый результат.

## 1. Редактирование заметок
**Описание.** Добавить возможность изменять содержание и ключевые слова существующих заметок.
**Шаги реализации:**
- Реализовать в `NoteService` метод обновления заметки.
- Добавить в `CommandLoop` команду `edit` с пошаговыми вопросами.
- Обновлять файл заметки и индекс после сохранения изменений.
**Результат.** Пользователь редактирует заметку без удаления и создания новой версии.

---

## 2. Переименование заметок
**Описание.** Позволить изменять заголовок заметки с переименованием файла.
**Шаги реализации:**
- Добавить метод переименования в `TxtRepository` с переносом содержимого.
- Обновлять ссылки в индексе и коллекции `KnowledgeBase`.
- Обновить UI-команду `rename`, выводящую старый и новый пути.
**Результат.** Заголовок и файл заметки изменяются, индекс остаётся консистентным.

---

## 3. Полнотекстовый поиск
**Описание.** Реализовать поиск по содержанию заметок.
**Шаги реализации:**
- Добавить метод `search_in_content` в `KnowledgeBase`.
- Расширить команду `search` выбором режима: по ключевому слову или по тексту.
- Подсвечивать совпадающие фрагменты в выводе (например, верхним регистром).
**Результат.** Пользователь находит заметки по фразам из текста.

---

## 4. Фильтрация по датам
**Описание.** Ввести команду фильтрации списка по диапазону дат изменения.
**Шаги реализации:**
- Добавить в `NoteService` фильтр по полям `created_at` и `updated_at`.
- Реализовать в CLI команду `filter dates` с запросом начала и конца периода.
- Отобразить количество найденных заметок и их список.
**Результат.** Пользователь просматривает заметки, изменённые в указанный период.

---

## 5. Команда статистики
**Описание.** Сформировать текстовую статистику по базе.
**Шаги реализации:**
- Ввести метод `collect_stats` в сервисе для подсчёта количества заметок и ключевых слов.
- Добавить команду `stats`, выводящую общее число заметок, уникальных ключевых слов, среднюю длину текста.
- Сохранять отчёт в `exports/stats.txt`.
**Результат.** Пользователь получает агрегированную статистику по заметкам и ключевым словам.

---

## 6. Список последних обновлений
**Описание.** Вывести отдельную команду для последних изменений.
**Шаги реализации:**
- Отсортировать заметки по `updated_at` в сервисе.
- Командой `recent` показывать N последних записей с датами.
- Добавить опцию выбора количества записей.
**Результат.** Пользователь быстро видит свежие изменения в базе.

---

## 7. Управление шаблонами заметок
**Описание.** Добавить поддержку текстовых шаблонов для новых заметок.
**Шаги реализации:**
- Создать каталог `templates/` и загрузчик шаблонов в репозитории.
- Командой `create --template` предлагать выбор шаблона.
- Подставлять текст шаблона в новую заметку перед сохранением.
**Результат.** Пользователь ускоряет создание типовых заметок.

---

## 8. Импорт существующих файлов
**Описание.** Позволить загрузить в базу сторонние `.txt`-файлы.
**Шаги реализации:**
- Реализовать команду `import <путь>` в CLI.
- Преобразовывать имя файла в заголовок и ключевые слова.
- Сохранять файл в каталог `notes/` и обновлять индекс.
**Результат.** Пользователь подключает уже существующую папку с заметками.

---

## 9. Отчёт по ключевым словам
**Описание.** Сформировать отдельный отчёт с группировкой заметок по ключевым словам.
**Шаги реализации:**
- Создать сервисный метод генерации отчёта.
- Сохранять файл `reports/keywords.txt` с разделами по каждому ключу.
- Добавить команду `report keywords`, выводящую путь к отчёту.
**Результат.** Пользователь получает сгруппированный список заметок по ключевым словам.

---

## 10. Экспорт по фильтру
**Описание.** Реализовать выборочный экспорт заметок.
**Шаги реализации:**
- Добавить в сервис метод экспорта по списку ключевых слов.
- В CLI реализовать команду `export tags <tag1,tag2>`.
- Создавать файл `exports/selected_notes.txt` с выбранными заметками.
**Результат.** Пользователь экспортирует только нужные заметки.

---

## 11. Проверка целостности индекса
**Описание.** Выявлять несоответствие между индексом и фактическими файлами.
**Шаги реализации:**
- Сравнивать записи в `index/index.txt` с существующими файлами.
- Выводить список отсутствующих или лишних ссылок.
- Добавить команду `validate index`.
**Результат.** Пользователь обнаруживает и исправляет проблемы с индексом.

---

## 12. Архивация заметок
**Описание.** Добавить команду перемещения заметок в архив.
**Шаги реализации:**
- Создать каталог `archive/` и методы переноса файлов.
- Отмечать архивные заметки в коллекции и исключать их из обычного списка.
- Добавить команду `archive <title>` и `list archive`.
**Результат.** Пользователь хранит старые записи отдельно, не засоряя рабочий список.

---

## 13. Быстрое добавление заметки
**Описание.** Реализовать упрощённую команду для кратких заметок.
**Шаги реализации:**
- Добавить команду `quick` с вводом только заголовка и одной строки текста.
- Автоматически создавать файл и обновлять индекс.
- Логировать, что заметка создана в быстром режиме.
**Результат.** Пользователь фиксирует краткие идеи без длинных диалогов.

---

## 14. Поддержка перекрёстных ссылок
**Описание.** Ввести синтаксис ссылок вида `[[Название заметки]]`.
**Шаги реализации:**
- При сохранении заметки анализировать текст и собирать ссылки.
- Сохранять связи в отдельном справочнике (например, `index/links.txt`).
- Добавить команду `links <title>` для просмотра входящих и исходящих ссылок.
**Результат.** Пользователь видит сетку связей между заметками.

---

## 15. Резервное копирование каталога
**Описание.** Добавить команду создания резервной копии базы заметок.
**Шаги реализации:**
- Использовать стандартный модуль `shutil` для упаковки каталога `notes/` в архив `.zip`.
- Сохранять архив в `backups/` с датой в названии.
- Выводить путь к архиву и писать запись в лог.
**Результат.** Пользователь может быстро сделать резервную копию всей базы.
