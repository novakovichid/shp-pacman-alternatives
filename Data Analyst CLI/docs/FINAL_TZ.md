# Data Analyst CLI — техническое задание

> ℹ️ В репозитории реализован только каркас приложения. Требования ниже описывают итоговый продукт, который предстоит
> разработать на основе задач из каталога `tasks/`.

## 1. Назначение и цели
Data Analyst CLI — утилита командной строки для оперативного анализа CSV-файлов с табличными данными. Пользователь загружает файл,
просматривает структуру, считает базовые статистики и формирует текстовые отчёты без привлечения внешних библиотек.

Цели команды:
- разработать модульное приложение на Python с чётким разделением слоёв (core, storage, services, ui);
- отработать чтение CSV и генерацию отчётов в текстовых файлах;
- закрепить навыки построения консольных инструментов и работы с `argparse`.

## 2. Роли и сценарии
Основной пользователь — аналитик или студент, который работает с CSV-файлами в терминале. Сценарии:
- загрузка выбранного CSV-файла и просмотр его структуры (столбцы, количество строк);
- вычисление статистик (минимум, максимум, среднее, количество пропусков) для числовых столбцов;
- фильтрация строк по условиям равенства/неравенства и сохранение результатов;
- формирование текстовых отчётов о структуре данных и найденных проблемах (пропуски, дубликаты);
- сохранение агрегированной информации в каталоге `reports/`;
- запуск готовых сценариев анализа через аргументы командной строки.

## 3. Архитектура
```
main.py ─▶ CliApplication ─▶ CommandLineInterface (ui)
                                ├─▶ DataAnalysisService (services)
                                │     └─▶ DataTable (core)
                                │          ├─▶ DataRow (core)
                                │          └─▶ ColumnStats (core)
                                ├─▶ CsvDatasetReader (storage)
                                └─▶ ReportWriter (storage)
```

- **core**: модели данных и базовые операции агрегации.
- **services**: сценарии анализа, комбинация загрузки данных, фильтрации, отчётов.
- **storage**: чтение CSV, подготовка каталогов, сохранение текстовых файлов.
- **ui**: консольный интерфейс, аргументы, команды, подсказки.

## 4. Требования к функциональности
- Команда запуска принимает путь к CSV и набор флагов (`--summary`, `--column name`, `--filter column=value`).
- Поддержка работы с заголовками: определение списка столбцов, вывод в консоль.
- Вычисление статистик по числовым столбцам: количество значений, минимум, максимум, среднее, количество пропусков.
- Отдельный отчёт о пропущенных значениях (`reports/missing.txt`).
- Отчёт `reports/summary.txt` с агрегированной информацией по каждому столбцу.
- Возможность сохранения результатов фильтрации в файл (`reports/filtered_<column>_<value>.txt`).
- Обработка ошибок чтения файла с дружелюбными сообщениями.
- Логирование основных действий в `logs/app.log` (запуск анализа, сохранение отчётов, ошибки).

## 5. UX-требования
- Все команды описаны в `--help` и снабжены примерами.
- Утилита поддерживает как интерактивный запуск (без аргументов), так и пакетный (с полным набором флагов).
- Сообщения на русском языке, без технических трассировок.
- При отсутствии файла пользователь получает подсказку, как указать корректный путь.
- В консоль выводится краткий итог анализа (количество строк, столбцов, предупреждения).

## 6. Нефункциональные требования
- Код написан в ООП-стиле, классы отвечают за свои зоны ответственности.
- Используются только стандартные библиотеки Python.
- Анализ выполняется в памяти без дополнительной оптимизации (достаточно для учебных наборов данных).
- Отчёты создаются в кодировке UTF-8.
- Приложение корректно работает на Windows, macOS и Linux.

## 7. Минимальные артефакты
- `data/dataset.csv` (может быть пустым шаблоном, создаётся автоматически при необходимости);
- `logs/app.log` после первого запуска с логами операций;
- каталог `reports/` с файлами `summary.txt`, `stats.txt`, `missing.txt` после выполнения соответствующих команд;
- README и два набора задач (starter/advanced).

## 8. Границы проекта
- Не используется `pandas` и другие сторонние библиотеки.
- Нет сетевых запросов, скачивания данных или обновлений.
- Нет сложного парсинга форматов (только CSV с запятой или точкой с запятой).
- Валидация типов ограничивается простыми проверками (число/текст).

## 9. Критерии приёмки
- Утилита корректно читает CSV с заголовком и выводит структуру.
- Статистические команды формируют точные значения и сохраняют отчёты.
- Фильтрация по значению создаёт файл с подходящими строками.
- В отчётах отображаются пропуски и предупреждения.
- Структура проекта соответствует архитектурной схеме, классы реализуют ожидаемую ответственность.
