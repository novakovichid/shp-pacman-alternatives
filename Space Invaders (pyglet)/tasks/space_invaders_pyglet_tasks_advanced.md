# Расширенные задачи Space Invaders (pyglet)

15 содержательных доработок для развития игры после реализации базовой версии.

## 1. Сложные волны противников
**Описание.** Добавить генератор шаблонов волн с разной плотностью и поведением.
**Шаги реализации:**
- Разработать структуру данных, описывающую форму волны и параметры движения.
- Реализовать выбор шаблона в зависимости от уровня.
- Добавить уникальные бонусы или очки за особые волны.
**Результат.** Каждая волна заметно отличается и требует новой стратегии.

---

## 2. Снаряды врагов
**Описание.** Дать врагам возможность стрелять по игроку.
**Шаги реализации:**
- Добавить таймеры выстрелов в `Enemy` или `Wave`.
- Реализовать снаряды типа `enemy` с отдельным цветом и скоростью.
- Обновить обработку столкновений для учёта попаданий по игроку.
**Результат.** Игрок должен уклоняться не только от самих врагов, но и от их снарядов.

---

## 3. Бонусные усиления
**Описание.** Ввести power-up объекты, которые выпадают из врагов.
**Шаги реализации:**
- Создать модель усиления (тип, длительность, эффект).
- Настроить выпадение после уничтожения врага с заданным шансом.
- Добавить эффекты: ускорение стрельбы, щит, дополнительная жизнь.
**Результат.** Игрок получает временные бонусы, стимулирующие агрессивную игру.

---

## 4. Экран выбора уровня сложности
**Описание.** Перед стартом новой игры предложить выбрать режим: лёгкий, нормальный, сложный.
**Шаги реализации:**
- Добавить меню в UI с обработкой выбора.
- Модифицировать `Settings` или сервис так, чтобы множители сложности влияли на скорость врагов и количество жизней.
- Сохранять выбранный режим в настройках сессии.
**Результат.** Игрок может адаптировать сложность под свои навыки.

---

## 5. Пошаговый туториал
**Описание.** Реализовать обучающий режим с подсказками.
**Шаги реализации:**
- Создать сценарий подсказок, выводимых поверх игрового поля.
- Ограничить скорость врагов и запретить потерю жизней во время обучения.
- Добавить кнопку перехода из туториала в обычную игру.
**Результат.** Новичок понимает основы управления и механик.

---

## 6. Таблица лидеров
**Описание.** Хранить несколько записей рекордов, а не только одно значение.
**Шаги реализации:**
- Расширить `HighscoreRepository`, чтобы работать со списком результатов.
- Добавить ввод имени игрока при попадании в таблицу.
- Отобразить топ-10 на отдельном экране.
**Результат.** Игроки видят собственный прогресс и могут соревноваться с друзьями.

---

## 7. Экран настроек управления
**Описание.** Позволить игроку переназначать клавиши.
**Шаги реализации:**
- Добавить структуру для хранения схемы управления.
- Реализовать UI для выбора клавиш и сохранения в файл настроек.
- Обеспечить считывание настроек при запуске.
**Результат.** Управление можно адаптировать под предпочтения пользователя.

---

## 8. Эффекты анимаций
**Описание.** Добавить анимированные спрайты взрывов и движений.
**Шаги реализации:**
- Подготовить спрайт-листы для взрыва и мерцания врагов.
- Добавить в `GameWindow` логику воспроизведения кадров при уничтожении.
- Обновить сервис, чтобы создавать события анимаций.
**Результат.** Визуальная часть становится выразительнее и динамичнее.

---

## 9. Фоновая музыка и звуки
**Описание.** Настроить музыкальное сопровождение и эффекты.
**Шаги реализации:**
- Добавить загрузку звуков в `AssetManifest`.
- Реализовать проигрывание фоновой музыки, звука выстрела, взрыва, потери жизни.
- Создать настройки громкости и возможность отключить звук.
**Результат.** Игра получает звуковую атмосферу и обратную связь.

---

## 10. Мгновенные события
**Описание.** Добавить случайные события, которые изменяют правила на короткое время.
**Шаги реализации:**
- Реализовать систему таймеров, запускающих события (ускорение врагов, инверсия управления).
- Обеспечить визуальное и текстовое уведомление игрока.
- После окончания события возвращать значения по умолчанию.
**Результат.** Игровые сессии становятся разнообразнее и непредсказуемее.

---

## 11. Дополнительный режим "Выживание"
**Описание.** Создать бесконечный режим с растущей сложностью и отсутствием уровней.
**Шаги реализации:**
- Добавить переключатель режима в меню.
- В режиме "Выживание" волны генерируются без остановки, скорость врагов постепенно возрастает.
- Отдельно учитывать рекорд для этого режима.
**Результат.** Игроки могут соревноваться за максимально долгую серию.

---

## 12. Система достижений
**Описание.** Ввести достижения за определённые действия.
**Шаги реализации:**
- Создать список достижений (уничтожить N врагов, не потерять жизнь и т.п.).
- Отслеживать выполнение условий в сервисе.
- Отображать уведомления и экран со списком открытых достижений.
**Результат.** Игрок получает дополнительную мотивацию выполнять сложные цели.

---

## 13. Реплеи и повтор последнего боя
**Описание.** Записывать последовательность действий игрока для последующего просмотра.
**Шаги реализации:**
- Сохранять события (позиции, выстрелы, состояние врагов) в список.
- Добавить режим воспроизведения, который проигрывает события без участия игрока.
- Ограничить длину сохранённого повтора, чтобы избежать роста памяти.
**Результат.** Игрок может проанализировать свой последний бой.

---

## 14. Экран справки и лора
**Описание.** Подготовить отдельный раздел с описанием врагов, бонусов, управления.
**Шаги реализации:**
- Создать Markdown или текстовый файл с информацией и подгружать его в UI.
- Отобразить структуру меню: описание корабля, типов врагов, бонусов.
- Добавить иллюстрации или схемы расположения волн.
**Результат.** Игрок понимает контекст игры и особенности каждого противника.

---

## 15. Системы частиц для фоновых эффектов
**Описание.** Реализовать звёздное небо и эффекты движущихся частиц.
**Шаги реализации:**
- Создать класс частицы с позицией, скоростью, временем жизни.
- Обновлять и перерисовывать частицы в UI.
- Добавить несколько слоёв скорости для эффекта параллакса.
**Результат.** Фон становится живым и усиливает ощущение полёта в космосе.
