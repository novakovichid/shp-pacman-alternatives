# Data Analyst Tkinter — техническое задание

> ℹ️ В репозитории реализован только каркас приложения. Требования ниже описывают итоговый продукт, который предстоит
> разработать на основе задач из каталога `tasks/`.

## 1. Назначение и цели
Data Analyst Tkinter — настольное приложение для анализа CSV-файлов с графическим интерфейсом. Пользователь выбирает набор
данных, получает статистики по столбцам, фильтрует строки и сохраняет отчёты одним кликом.

Цели команды:
- разработать модульное приложение на Python с чётким разделением слоёв (core, storage, services, ui);
- обеспечить полный цикл работы с CSV: загрузка, анализ, отчёты и запоминание последнего пути к файлу;
- создать простую, но удобную графическую оболочку на tkinter.

## 2. Роли и сценарии
**Основной пользователь** — специалист, который предпочитает настольные инструменты и минимальную настройку.

Ключевые сценарии:
1. Запуск приложения и отображение последнего открытого файла.
2. Выбор нового CSV через стандартный диалог и мгновенная подгрузка в таблицу.
3. Просмотр списка столбцов, типов данных и базовой статистики.
4. Визуальная фильтрация строк по условиям (равно, содержит, больше/меньше).
5. Экспорт отчётов в текстовые файлы `reports/summary.txt`, `reports/stats.txt`, `reports/missing.txt`.
6. Просмотр журнала действий в отдельном окне.
7. Сохранение состояния сессии (путь к файлу, выбранные фильтры) при выходе.

## 3. Архитектура
```
main.py ─▶ TkinterApplication ─▶ RootWindow (ui)
                                 ├─▶ DataAnalysisService (services)
                                 │     └─▶ DataTable, ColumnStats (core)
                                 │          └─▶ DataRow (core)
                                 ├─▶ SessionState (core)
                                 ├─▶ CsvDatasetLoader (storage)
                                 └─▶ ReportWriter (storage)
```

- **core**: структуры данных, агрегирование статистик, хранение состояния сессии.
- **services**: объединение операций загрузки, анализа и экспорта отчётов.
- **storage**: чтение CSV, запись текстовых файлов, запоминание последнего пути.
- **ui**: окна tkinter, обработчики событий, отображение результатов анализа.

## 4. Требования к функциональности
- Приложение должно корректно открывать CSV-файлы с разделителем `,` и `;`.
- Для числовых столбцов рассчитываются минимум, максимум, среднее и количество пропусков.
- Для строковых столбцов отображается количество уникальных значений и примеры первых записей.
- Фильтрация строк выполняется без изменения исходного файла.
- Отчёты записываются в каталог `reports/`, структура которого создаётся автоматически.
- Последний выбранный файл и применённые фильтры сохраняются в каталоге `state/`.

## 5. Пользовательский интерфейс
- Главное окно содержит панель выбора файла, таблицу предпросмотра и панель статистики.
- Окна отчётов открываются в отдельных всплывающих окнах с возможностью копирования текста.
- Настройки фильтрации доступны через модальное окно с полями ввода условий.
- Сообщения об ошибках отображаются в диалогах `messagebox`.

## 6. Нефункциональные требования
- Использовать только стандартную библиотеку Python, без сторонних GUI-фреймворков.
- Поддерживать работу на Windows, macOS и Linux (возможны различия в темах оформления).
- Код организован по принципам ООП, каждый слой изолирован от деталей реализации других слоёв.
- Логирование ключевых событий (открытие файла, экспорт отчёта, ошибка парсинга) в `logs/app.log`.

## 7. Артефакты
- `reports/summary.txt` — краткое описание набора данных и применённых фильтров.
- `reports/stats.txt` — таблица статистик по столбцам.
- `reports/missing.txt` — список столбцов с пропусками и количество пустых значений.
- `state/last_path.txt` — путь к последнему открытому файлу.
- `logs/app.log` — история действий пользователя и ошибок.
